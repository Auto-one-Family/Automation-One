# ============================================
# Mosquitto Configuration for GitHub Actions CI
# ============================================
# Purpose: Allow anonymous MQTT connections for Wokwi ESP32 tests
# Used by: .github/workflows/wokwi-tests.yml
#
# This config is minimal and optimized for CI testing:
# - No authentication required
# - No persistence (stateless)
# - All interfaces bound

# Listen on default MQTT port, all interfaces
listener 1883 0.0.0.0

# Allow anonymous connections (required for Wokwi simulation)
allow_anonymous true

# Disable persistence for CI (faster, no state between runs)
persistence false

# Log to stderr (captured by GitHub Actions)
log_dest stderr

# Log connection events for debugging
log_type error
log_type warning
log_type notice
log_type information

# Connection messages for debugging
connection_messages true

# No keepalive limit
max_keepalive 65535

# Unlimited connections
max_connections -1
