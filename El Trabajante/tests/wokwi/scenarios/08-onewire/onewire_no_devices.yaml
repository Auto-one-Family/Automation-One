# OneWire No Devices Warning Test (OW-DISC-002)
# Validates behavior when no devices are found on bus
# Tests: Empty bus scan, warning logging
# Note: Wokwi always has DS18B20, but tests the error path exists
# Timeout: 90000ms

name: OneWire No Devices Warning
version: 1
steps:
  # Boot with OneWire
  - wait-serial: "OneWire Bus Manager initialization started"

  # Bus reset may fail if no devices (just warning, not error)
  # "OneWire bus reset failed - no devices present or bus error"

  # Initialization still succeeds
  - wait-serial: "OneWire Bus Manager initialized successfully"

  # If scan was done and found 0 devices:
  # "OneWire bus scan complete: No devices found"
  # ERROR_ONEWIRE_NO_DEVICES (1021) would be tracked as WARNING

  # In Wokwi with DS18B20 in diagram.json, device is found
  - wait-serial: "Phase 3: Hardware Abstraction READY"
