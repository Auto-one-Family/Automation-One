# OneWire CRC Validation Test (OW-ERR-001)
# Validates that CRC-8 validation is performed on device discovery
# Tests: CRC error detection, invalid devices are ignored
# Note: In Wokwi, DS18B20 always has valid CRC, but we verify CRC is checked
# Timeout: 90000ms

name: OneWire CRC Validation
version: 1
steps:
  # Boot sequence
  - wait-serial: "Phase 3: Hardware Abstraction READY"

  # When scan occurs, CRC is validated
  # Valid devices pass CRC check
  - wait-serial: "OneWire bus scan started"

  # If device found, it passed CRC validation
  # (CRC error would show "OneWire CRC error - device ignored")
  - wait-serial: "Found device: Family=0x28"

  # Scan completes successfully
  - wait-serial: "devices found"
