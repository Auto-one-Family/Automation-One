# NVS Namespace Clear Test
# Test-ID: NVS-DEL-003
# Validates clearNamespace() erases all keys in current namespace
# Timeout: 90000ms
#
# Used for:
# - Partial factory reset (clear specific module's config)
# - Recovery from corrupted config
# - Test cleanup
#
# Expected behavior:
# - clearNamespace() removes all keys in current namespace
# - Other namespaces remain unaffected
# - Log: "Cleared namespace: {name}"

name: NVS Namespace Clear
version: 1
steps:
  # System boots normally
  - wait-serial: "ESP32 Sensor Network"
  - wait-serial: "StorageManager: Initialized"
  - wait-serial: "Phase 1: Core Infrastructure READY"

  # System operational
  - wait-serial: "WiFi connected successfully"
  - wait-serial: "MQTT connected successfully"

  # Heartbeat proves system stability
  - wait-serial: "heartbeat"

  # Note: clearNamespace() is typically called via system command
  # or during factory reset. Testing the API indirectly.
