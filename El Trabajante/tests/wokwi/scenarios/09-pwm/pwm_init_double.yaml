# PWM Controller Double Initialization Test
# Test-ID: PWM-INIT-002
# Validates that calling begin() twice is idempotent
# Expected: Second begin() returns true with warning log
# Note: This test requires firmware modification to call begin() twice
# Timeout: 90000ms

name: PWM Controller Double Initialization
version: 1
steps:
  # Wait for boot and first initialization
  - wait-serial: "PWM Controller initialized successfully"

  # Wait for MQTT connection (system ready)
  - wait-serial: "MQTT connected"

  # Note: To test double init, a specific test command via MQTT would be needed
  # For now, verify initial state is stable
  - wait-serial: "heartbeat"
