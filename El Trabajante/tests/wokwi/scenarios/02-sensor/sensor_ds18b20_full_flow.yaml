# DS18B20 Full Sensor Flow Test
# Validates complete flow: Init → OneWire → Read → MQTT Publish → Heartbeat
# Timeout: 90000ms

name: DS18B20 Full Sensor Flow Test
version: 1
steps:
  # Boot sequence completes
  - wait-serial: "Phase 1: Core Infrastructure READY"
  - wait-serial: "Phase 2: Communication Layer READY"

  # MQTT connected
  - wait-serial: "MQTT connected"

  # OneWire bus initialization
  - wait-serial: "OneWire"

  # Sensor Manager active
  - wait-serial: "Sensor Manager"

  # Sensor reading published (DS18B20 on GPIO 4)
  - wait-serial: "Published"

  # Heartbeat confirms loop() running with sensor data
  - wait-serial: "heartbeat"
