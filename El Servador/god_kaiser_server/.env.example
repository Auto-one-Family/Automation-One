# ==============================================================================
# GOD-KAISER SERVER CONFIGURATION
# ==============================================================================

# Environment
ENVIRONMENT=development  # development, production, testing

# Database Configuration
DATABASE_URL=postgresql+asyncpg://god_kaiser:your_password@localhost:5432/god_kaiser_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false  # Set to true for SQL query logging

# MQTT Broker Configuration
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883  # ✅ Plain MQTT (ESP32 auto-falls back from 8883 if TLS unavailable)
MQTT_WEBSOCKET_PORT=9001
MQTT_KEEPALIVE=60
MQTT_QOS_SENSOR_DATA=1
MQTT_QOS_COMMANDS=2
MQTT_CLIENT_ID=god_kaiser_server
MQTT_USERNAME=
MQTT_PASSWORD=

# MQTT TLS/SSL (optional)
MQTT_USE_TLS=false
MQTT_CA_CERT_PATH=
MQTT_CLIENT_CERT_PATH=
MQTT_CLIENT_KEY_PATH=

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_RELOAD=true  # Set to false in production
SERVER_WORKERS=4  # Number of worker processes (production)
SERVER_LOG_LEVEL=info  # debug, info, warning, error, critical

# Security & Authentication
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_HASH_ALGORITHM=bcrypt
PASSWORD_MIN_LENGTH=8

# CORS Configuration
CORS_ALLOWED_ORIGINS=["http://localhost:3000", "http://localhost:5173"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "PATCH"]
CORS_ALLOW_HEADERS=["*"]

# God-Kaiser Hierarchie
KAISER_ID=god
GOD_ID=god_pi_central

# Performance & Monitoring
PERFORMANCE_MANAGEMENT_ENABLED=true
SYSTEM_MONITORING_ENABLED=true
METRICS_EXPORT_ENABLED=true
PROMETHEUS_PORT=9090

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json  # json or text
LOG_FILE_PATH=logs/god_kaiser.log
LOG_FILE_MAX_BYTES=10485760  # 10MB
LOG_FILE_BACKUP_COUNT=5

# ESP32 Integration
ESP_DISCOVERY_ENABLED=true
ESP_DISCOVERY_INTERVAL=300  # seconds
ESP_HEARTBEAT_TIMEOUT=120  # seconds
ESP_CONNECTION_TIMEOUT=30  # seconds

# Sensor Processing
PI_ENHANCED_PROCESSING_ENABLED=true
SENSOR_PROCESSING_TIMEOUT=5000  # milliseconds
SENSOR_DATA_RETENTION_DAYS=90

# Actuator Control
ACTUATOR_COMMAND_TIMEOUT=10  # seconds
EMERGENCY_STOP_ENABLED=true
SAFETY_CHECKS_ENABLED=true

# WebSocket
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_HEARTBEAT_INTERVAL=30  # seconds
WEBSOCKET_CONNECTION_TIMEOUT=300  # seconds

# Redis (optional - für Caching)
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# External Services
GOD_LAYER_URL=http://localhost:8001  # URL zum God Layer (AI/Analytics)
GOD_LAYER_ENABLED=false
GOD_LAYER_TIMEOUT=10  # seconds

# Development & Testing
DEBUG_MODE=false
TESTING_MODE=false
MOCK_ESP32_ENABLED=false
