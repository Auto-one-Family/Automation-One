# Mosquitto Configuration - AutomationOne Framework
# =================================================
# Vollständiges Logging für Entwicklung und Debugging
# Version: 1.1 (Fixed for Windows Service)
#
# INSTALLATION (Admin CMD):
#   net stop mosquitto
#   copy "C:\Users\PCUser\Documents\PlatformIO\Projects\Auto-one\El Servador\god_kaiser_server\mosquitto_full_logging.conf" "C:\Program Files\mosquitto\mosquitto.conf"
#   net start mosquitto

# =================================================================
# Listener & Netzwerk
# =================================================================

# Bind auf ALLE Interfaces (0.0.0.0) - wichtig für ESP32 aus LAN!
listener 1883 0.0.0.0
allow_anonymous true
max_connections -1

# =================================================================
# LOGGING - NUR DATEI (für Service-Modus)
# =================================================================

# Logging: Datei + MQTT Topic (für Live-Zugriff)
log_dest file C:\Users\PCUser\Documents\PlatformIO\Projects\Auto-one\El Servador\god_kaiser_server\logs\mosquitto.log
log_dest topic

# Alle Log-Types
log_type error
log_type warning
log_type notice
log_type information
log_type debug
log_type subscribe
log_type unsubscribe

log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S
connection_messages true

# =================================================================
# Persistenz
# =================================================================

persistence true
persistence_location C:\Program Files\mosquitto\data\
autosave_interval 1800

# =================================================================
# Performance
# =================================================================

max_packet_size 262144
max_keepalive 90
